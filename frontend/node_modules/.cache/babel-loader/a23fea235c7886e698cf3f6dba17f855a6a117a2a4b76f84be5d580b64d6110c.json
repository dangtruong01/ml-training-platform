{"ast":null,"code":"var _jsxFileName = \"/Users/truonghaidang/Desktop/open-trainer/frontend/src/components/auto-annotation/ModelTraining.js\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport './ModelTraining.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ModelTraining({\n  projectId,\n  projectType,\n  trainingStatus\n}) {\n  const [trainingParams, setTrainingParams] = useState({\n    epochs: 50,\n    batch_size: 16,\n    image_size: 640,\n    patience: 10,\n    // SAM2 specific params\n    few_shot_examples: 5,\n    similarity_threshold: 0.8,\n    mask_threshold: 0.5\n  });\n  const [training, setTraining] = useState(false);\n  const [trainingProgress, setTrainingProgress] = useState({\n    status: trainingStatus || 'not_started',\n    progress: 0,\n    current_epoch: 0,\n    total_epochs: 0,\n    metrics: {},\n    logs: []\n  });\n  const [errors, setErrors] = useState({});\n  const fetchTrainingStatus = useCallback(async () => {\n    try {\n      const response = await fetch(`/api/auto-annotation/projects/${projectId}/training-status`);\n      const data = await response.json();\n      if (data.status === 'success') {\n        setTrainingProgress(prev => ({\n          ...prev,\n          ...data\n        }));\n      }\n    } catch (error) {\n      console.error('Failed to fetch training status:', error);\n    }\n  }, [projectId]);\n\n  // Poll training status\n  useEffect(() => {\n    let interval;\n    if (trainingProgress.status === 'running') {\n      interval = setInterval(() => {\n        fetchTrainingStatus();\n      }, 2000);\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [trainingProgress.status, projectId, fetchTrainingStatus]);\n  const handleParamChange = (param, value) => {\n    setTrainingParams(prev => ({\n      ...prev,\n      [param]: value\n    }));\n  };\n  const startTraining = async () => {\n    setTraining(true);\n    setErrors({});\n    try {\n      const formData = new FormData();\n      if (projectType === 'object_detection') {\n        formData.append('epochs', trainingParams.epochs);\n        formData.append('batch_size', trainingParams.batch_size);\n        formData.append('image_size', trainingParams.image_size);\n        formData.append('patience', trainingParams.patience);\n      } else {\n        formData.append('few_shot_examples', trainingParams.few_shot_examples);\n        formData.append('similarity_threshold', trainingParams.similarity_threshold);\n        formData.append('mask_threshold', trainingParams.mask_threshold);\n      }\n      const response = await fetch(`/api/auto-annotation/projects/${projectId}/start-training`, {\n        method: 'POST',\n        body: formData\n      });\n      const result = await response.json();\n      if (result.status === 'success') {\n        setTrainingProgress(prev => ({\n          ...prev,\n          status: 'running',\n          total_epochs: trainingParams.epochs\n        }));\n      } else {\n        setErrors({\n          training: result.message || 'Failed to start training'\n        });\n      }\n    } catch (error) {\n      console.error('Training failed:', error);\n      setErrors({\n        training: 'Network error. Please try again.'\n      });\n    } finally {\n      setTraining(false);\n    }\n  };\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'not_started':\n        return '⏳';\n      case 'running':\n        return '🚀';\n      case 'completed':\n        return '✅';\n      case 'failed':\n        return '❌';\n      default:\n        return '⚪';\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'not_started':\n        return '#6c757d';\n      case 'running':\n        return '#007bff';\n      case 'completed':\n        return '#28a745';\n      case 'failed':\n        return '#dc3545';\n      default:\n        return '#6c757d';\n    }\n  };\n  const canStartTraining = trainingProgress.status === 'not_started' || trainingProgress.status === 'failed';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"model-training\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-status\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"status-indicator\",\n          style: {\n            color: getStatusColor(trainingProgress.status)\n          },\n          children: [getStatusIcon(trainingProgress.status), trainingProgress.status.replace('_', ' ').toUpperCase()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), trainingProgress.status === 'running' && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"epoch-info\",\n          children: [\"Epoch \", trainingProgress.current_epoch, \" / \", trainingProgress.total_epochs]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), trainingProgress.status === 'running' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-fill\",\n            style: {\n              width: `${trainingProgress.progress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"progress-text\",\n          children: [trainingProgress.progress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), canStartTraining && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-params\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\uD83D\\uDD27 Training Parameters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), projectType === 'object_detection' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"params-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Epochs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: trainingParams.epochs,\n            onChange: e => handleParamChange('epochs', parseInt(e.target.value)),\n            min: \"1\",\n            max: \"1000\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Number of training iterations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Batch Size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: trainingParams.batch_size,\n            onChange: e => handleParamChange('batch_size', parseInt(e.target.value)),\n            min: \"1\",\n            max: \"64\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Images processed together\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Image Size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: trainingParams.image_size,\n            onChange: e => handleParamChange('image_size', parseInt(e.target.value)),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 416,\n              children: \"416px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 512,\n              children: \"512px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 640,\n              children: \"640px (recommended)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 800,\n              children: \"800px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Input image resolution\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Patience\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: trainingParams.patience,\n            onChange: e => handleParamChange('patience', parseInt(e.target.value)),\n            min: \"1\",\n            max: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Early stopping patience\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"params-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Few-Shot Examples\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: trainingParams.few_shot_examples,\n            onChange: e => handleParamChange('few_shot_examples', parseInt(e.target.value)),\n            min: \"1\",\n            max: \"20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Examples per defect class\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Similarity Threshold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            value: trainingParams.similarity_threshold,\n            onChange: e => handleParamChange('similarity_threshold', parseFloat(e.target.value)),\n            min: \"0.1\",\n            max: \"1.0\",\n            step: \"0.1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-value\",\n            children: trainingParams.similarity_threshold\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Feature similarity threshold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Mask Threshold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            value: trainingParams.mask_threshold,\n            onChange: e => handleParamChange('mask_threshold', parseFloat(e.target.value)),\n            min: \"0.1\",\n            max: \"1.0\",\n            step: \"0.1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-value\",\n            children: trainingParams.mask_threshold\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Mask confidence threshold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this), trainingProgress.status === 'running' && Object.keys(trainingProgress.metrics).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-metrics\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\uD83D\\uDCCA Training Metrics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"metrics-grid\",\n        children: Object.entries(trainingProgress.metrics).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metric-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-label\",\n            children: key\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-value\",\n            children: typeof value === 'number' ? value.toFixed(4) : value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 17\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 9\n    }, this), trainingProgress.logs && trainingProgress.logs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-logs\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\uD83D\\uDCDD Training Logs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logs-container\",\n        children: trainingProgress.logs.slice(-10).map((log, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"log-entry\",\n          children: log\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-actions\",\n      children: [errors.training && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-banner\",\n        children: [\"\\u274C \", errors.training]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this), canStartTraining && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"start-training-button\",\n        onClick: startTraining,\n        disabled: training,\n        children: training ? '⏳ Starting...' : `🚀 Start ${projectType === 'object_detection' ? 'YOLO' : 'SAM2'} Training`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }, this), trainingProgress.status === 'completed' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-banner\",\n        children: \"\\u2705 Model training completed successfully! Ready for auto-annotation.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this), trainingProgress.status === 'failed' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-banner\",\n        children: \"\\u274C Training failed. Please check your data and try again.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\u2139\\uFE0F Training Process\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-steps\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-number\",\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-text\",\n            children: \"Data preparation and validation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-number\",\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-text\",\n            children: projectType === 'object_detection' ? 'YOLO model training with your annotations' : 'SAM2 few-shot learning setup'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-number\",\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-text\",\n            children: \"Model evaluation and optimization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-number\",\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-text\",\n            children: \"Model ready for automatic annotation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n}\nexport default ModelTraining;","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsxDEV","_jsxDEV","ModelTraining","projectId","projectType","trainingStatus","trainingParams","setTrainingParams","epochs","batch_size","image_size","patience","few_shot_examples","similarity_threshold","mask_threshold","training","setTraining","trainingProgress","setTrainingProgress","status","progress","current_epoch","total_epochs","metrics","logs","errors","setErrors","fetchTrainingStatus","response","fetch","data","json","prev","error","console","interval","setInterval","clearInterval","handleParamChange","param","value","startTraining","formData","FormData","append","method","body","result","message","getStatusIcon","getStatusColor","canStartTraining","className","children","style","color","replace","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","width","type","onChange","e","parseInt","target","min","max","parseFloat","step","Object","keys","length","entries","map","key","toFixed","slice","log","index","onClick","disabled"],"sources":["/Users/truonghaidang/Desktop/open-trainer/frontend/src/components/auto-annotation/ModelTraining.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport './ModelTraining.css';\n\nfunction ModelTraining({ projectId, projectType, trainingStatus }) {\n  const [trainingParams, setTrainingParams] = useState({\n    epochs: 50,\n    batch_size: 16,\n    image_size: 640,\n    patience: 10,\n    // SAM2 specific params\n    few_shot_examples: 5,\n    similarity_threshold: 0.8,\n    mask_threshold: 0.5\n  });\n  \n  const [training, setTraining] = useState(false);\n  const [trainingProgress, setTrainingProgress] = useState({\n    status: trainingStatus || 'not_started',\n    progress: 0,\n    current_epoch: 0,\n    total_epochs: 0,\n    metrics: {},\n    logs: []\n  });\n  const [errors, setErrors] = useState({});\n\n  const fetchTrainingStatus = useCallback(async () => {\n    try {\n      const response = await fetch(`/api/auto-annotation/projects/${projectId}/training-status`);\n      const data = await response.json();\n      \n      if (data.status === 'success') {\n        setTrainingProgress(prev => ({\n          ...prev,\n          ...data\n        }));\n      }\n    } catch (error) {\n      console.error('Failed to fetch training status:', error);\n    }\n  }, [projectId]);\n\n  // Poll training status\n  useEffect(() => {\n    let interval;\n    \n    if (trainingProgress.status === 'running') {\n      interval = setInterval(() => {\n        fetchTrainingStatus();\n      }, 2000);\n    }\n    \n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [trainingProgress.status, projectId, fetchTrainingStatus]);\n\n  const handleParamChange = (param, value) => {\n    setTrainingParams(prev => ({\n      ...prev,\n      [param]: value\n    }));\n  };\n\n  const startTraining = async () => {\n    setTraining(true);\n    setErrors({});\n    \n    try {\n      const formData = new FormData();\n      \n      if (projectType === 'object_detection') {\n        formData.append('epochs', trainingParams.epochs);\n        formData.append('batch_size', trainingParams.batch_size);\n        formData.append('image_size', trainingParams.image_size);\n        formData.append('patience', trainingParams.patience);\n      } else {\n        formData.append('few_shot_examples', trainingParams.few_shot_examples);\n        formData.append('similarity_threshold', trainingParams.similarity_threshold);\n        formData.append('mask_threshold', trainingParams.mask_threshold);\n      }\n\n      const response = await fetch(`/api/auto-annotation/projects/${projectId}/start-training`, {\n        method: 'POST',\n        body: formData\n      });\n\n      const result = await response.json();\n      \n      if (result.status === 'success') {\n        setTrainingProgress(prev => ({\n          ...prev,\n          status: 'running',\n          total_epochs: trainingParams.epochs\n        }));\n      } else {\n        setErrors({ training: result.message || 'Failed to start training' });\n      }\n    } catch (error) {\n      console.error('Training failed:', error);\n      setErrors({ training: 'Network error. Please try again.' });\n    } finally {\n      setTraining(false);\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'not_started': return '⏳';\n      case 'running': return '🚀';\n      case 'completed': return '✅';\n      case 'failed': return '❌';\n      default: return '⚪';\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'not_started': return '#6c757d';\n      case 'running': return '#007bff';\n      case 'completed': return '#28a745';\n      case 'failed': return '#dc3545';\n      default: return '#6c757d';\n    }\n  };\n\n  const canStartTraining = trainingProgress.status === 'not_started' || trainingProgress.status === 'failed';\n\n  return (\n    <div className=\"model-training\">\n      {/* Training Status */}\n      <div className=\"training-status\">\n        <div className=\"status-header\">\n          <span \n            className=\"status-indicator\" \n            style={{ color: getStatusColor(trainingProgress.status) }}\n          >\n            {getStatusIcon(trainingProgress.status)} \n            {trainingProgress.status.replace('_', ' ').toUpperCase()}\n          </span>\n          \n          {trainingProgress.status === 'running' && (\n            <span className=\"epoch-info\">\n              Epoch {trainingProgress.current_epoch} / {trainingProgress.total_epochs}\n            </span>\n          )}\n        </div>\n        \n        {trainingProgress.status === 'running' && (\n          <div className=\"progress-container\">\n            <div className=\"progress-bar\">\n              <div \n                className=\"progress-fill\"\n                style={{ width: `${trainingProgress.progress}%` }}\n              />\n            </div>\n            <span className=\"progress-text\">{trainingProgress.progress}%</span>\n          </div>\n        )}\n      </div>\n\n      {/* Training Parameters */}\n      {canStartTraining && (\n        <div className=\"training-params\">\n          <h5>🔧 Training Parameters</h5>\n          \n          {projectType === 'object_detection' ? (\n            <div className=\"params-grid\">\n              <div className=\"param-item\">\n                <label>Epochs</label>\n                <input\n                  type=\"number\"\n                  value={trainingParams.epochs}\n                  onChange={(e) => handleParamChange('epochs', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"1000\"\n                />\n                <span className=\"param-help\">Number of training iterations</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Batch Size</label>\n                <input\n                  type=\"number\"\n                  value={trainingParams.batch_size}\n                  onChange={(e) => handleParamChange('batch_size', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"64\"\n                />\n                <span className=\"param-help\">Images processed together</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Image Size</label>\n                <select\n                  value={trainingParams.image_size}\n                  onChange={(e) => handleParamChange('image_size', parseInt(e.target.value))}\n                >\n                  <option value={416}>416px</option>\n                  <option value={512}>512px</option>\n                  <option value={640}>640px (recommended)</option>\n                  <option value={800}>800px</option>\n                </select>\n                <span className=\"param-help\">Input image resolution</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Patience</label>\n                <input\n                  type=\"number\"\n                  value={trainingParams.patience}\n                  onChange={(e) => handleParamChange('patience', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"50\"\n                />\n                <span className=\"param-help\">Early stopping patience</span>\n              </div>\n            </div>\n          ) : (\n            <div className=\"params-grid\">\n              <div className=\"param-item\">\n                <label>Few-Shot Examples</label>\n                <input\n                  type=\"number\"\n                  value={trainingParams.few_shot_examples}\n                  onChange={(e) => handleParamChange('few_shot_examples', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"20\"\n                />\n                <span className=\"param-help\">Examples per defect class</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Similarity Threshold</label>\n                <input\n                  type=\"range\"\n                  value={trainingParams.similarity_threshold}\n                  onChange={(e) => handleParamChange('similarity_threshold', parseFloat(e.target.value))}\n                  min=\"0.1\"\n                  max=\"1.0\"\n                  step=\"0.1\"\n                />\n                <span className=\"param-value\">{trainingParams.similarity_threshold}</span>\n                <span className=\"param-help\">Feature similarity threshold</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Mask Threshold</label>\n                <input\n                  type=\"range\"\n                  value={trainingParams.mask_threshold}\n                  onChange={(e) => handleParamChange('mask_threshold', parseFloat(e.target.value))}\n                  min=\"0.1\"\n                  max=\"1.0\"\n                  step=\"0.1\"\n                />\n                <span className=\"param-value\">{trainingParams.mask_threshold}</span>\n                <span className=\"param-help\">Mask confidence threshold</span>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Training Metrics */}\n      {trainingProgress.status === 'running' && Object.keys(trainingProgress.metrics).length > 0 && (\n        <div className=\"training-metrics\">\n          <h5>📊 Training Metrics</h5>\n          <div className=\"metrics-grid\">\n            {Object.entries(trainingProgress.metrics).map(([key, value]) => (\n              <div key={key} className=\"metric-item\">\n                <span className=\"metric-label\">{key}</span>\n                <span className=\"metric-value\">\n                  {typeof value === 'number' ? value.toFixed(4) : value}\n                </span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Training Logs */}\n      {trainingProgress.logs && trainingProgress.logs.length > 0 && (\n        <div className=\"training-logs\">\n          <h5>📝 Training Logs</h5>\n          <div className=\"logs-container\">\n            {trainingProgress.logs.slice(-10).map((log, index) => (\n              <div key={index} className=\"log-entry\">\n                {log}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Actions */}\n      <div className=\"training-actions\">\n        {errors.training && (\n          <div className=\"error-banner\">\n            ❌ {errors.training}\n          </div>\n        )}\n        \n        {canStartTraining && (\n          <button\n            className=\"start-training-button\"\n            onClick={startTraining}\n            disabled={training}\n          >\n            {training ? '⏳ Starting...' : `🚀 Start ${projectType === 'object_detection' ? 'YOLO' : 'SAM2'} Training`}\n          </button>\n        )}\n        \n        {trainingProgress.status === 'completed' && (\n          <div className=\"success-banner\">\n            ✅ Model training completed successfully! Ready for auto-annotation.\n          </div>\n        )}\n        \n        {trainingProgress.status === 'failed' && (\n          <div className=\"error-banner\">\n            ❌ Training failed. Please check your data and try again.\n          </div>\n        )}\n      </div>\n\n      {/* Training Info */}\n      <div className=\"training-info\">\n        <h5>ℹ️ Training Process</h5>\n        <div className=\"info-steps\">\n          <div className=\"info-step\">\n            <span className=\"step-number\">1</span>\n            <span className=\"step-text\">\n              Data preparation and validation\n            </span>\n          </div>\n          <div className=\"info-step\">\n            <span className=\"step-number\">2</span>\n            <span className=\"step-text\">\n              {projectType === 'object_detection' \n                ? 'YOLO model training with your annotations'\n                : 'SAM2 few-shot learning setup'\n              }\n            </span>\n          </div>\n          <div className=\"info-step\">\n            <span className=\"step-number\">3</span>\n            <span className=\"step-text\">\n              Model evaluation and optimization\n            </span>\n          </div>\n          <div className=\"info-step\">\n            <span className=\"step-number\">4</span>\n            <span className=\"step-text\">\n              Model ready for automatic annotation\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ModelTraining;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}