{"ast":null,"code":"import React,{useState,useEffect}from'react';import ProjectDashboard from'./auto-annotation/ProjectDashboard';import ProjectCreation from'./auto-annotation/ProjectCreation';import TrainingDataUpload from'./auto-annotation/TrainingDataUpload';import ModelTraining from'./auto-annotation/ModelTraining';import AutoAnnotationInference from'./auto-annotation/AutoAnnotationInference';import'./AutoAnnotation.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AutoAnnotation(){const[currentView,setCurrentView]=useState('dashboard');const[selectedProject,setSelectedProject]=useState(null);const[projects,setProjects]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{loadProjects();},[]);const loadProjects=async()=>{try{setLoading(true);const response=await fetch('/api/auto-annotation/projects');const data=await response.json();if(data.status==='success'){setProjects(data.projects);}}catch(error){console.error('Failed to load projects:',error);}finally{setLoading(false);}};const handleProjectCreated=newProject=>{setProjects(prev=>[newProject.metadata,...prev]);setCurrentView('dashboard');};const handleProjectSelected=project=>{setSelectedProject(project);setCurrentView('project-details');};const renderCurrentView=()=>{switch(currentView){case'dashboard':return/*#__PURE__*/_jsx(ProjectDashboard,{projects:projects,onProjectSelect:handleProjectSelected,onCreateProject:()=>setCurrentView('create-project'),onRefresh:loadProjects,loading:loading});case'create-project':return/*#__PURE__*/_jsx(ProjectCreation,{onProjectCreated:handleProjectCreated,onCancel:()=>setCurrentView('dashboard')});case'project-details':return/*#__PURE__*/_jsxs(\"div\",{className:\"project-details-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"project-header\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:()=>setCurrentView('dashboard'),children:\"\\u2190 Back to Dashboard\"}),/*#__PURE__*/_jsx(\"h2\",{children:selectedProject===null||selectedProject===void 0?void 0:selectedProject.project_name}),/*#__PURE__*/_jsx(\"span\",{className:\"project-type-badge \".concat(selectedProject===null||selectedProject===void 0?void 0:selectedProject.project_type),children:(selectedProject===null||selectedProject===void 0?void 0:selectedProject.project_type)==='object_detection'?'ðŸ“¦ Object Detection':'ðŸŽ¯ Segmentation'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"project-workflow\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-steps\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-step\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"1. Upload Training Data\"}),/*#__PURE__*/_jsx(TrainingDataUpload,{projectId:selectedProject===null||selectedProject===void 0?void 0:selectedProject.project_id,projectType:selectedProject===null||selectedProject===void 0?void 0:selectedProject.project_type,onDataUploaded:loadProjects})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-step\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"2. Train Model\"}),/*#__PURE__*/_jsx(ModelTraining,{projectId:selectedProject===null||selectedProject===void 0?void 0:selectedProject.project_id,projectType:selectedProject===null||selectedProject===void 0?void 0:selectedProject.project_type,trainingStatus:selectedProject===null||selectedProject===void 0?void 0:selectedProject.training_status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-step\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"3. Auto-Annotate Images\"}),/*#__PURE__*/_jsx(AutoAnnotationInference,{projectId:selectedProject===null||selectedProject===void 0?void 0:selectedProject.project_id,projectType:selectedProject===null||selectedProject===void 0?void 0:selectedProject.project_type,trainingStatus:selectedProject===null||selectedProject===void 0?void 0:selectedProject.training_status})]})]})})]});default:return/*#__PURE__*/_jsx(ProjectDashboard,{projects:projects,onProjectSelect:handleProjectSelected});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"auto-annotation-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"auto-annotation-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83E\\uDD16 Auto-Annotation System\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"Create training projects, upload manual annotations, and automatically annotate new images\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"workflow-icon\",children:\"\\uD83D\\uDCE6\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Object Detection\"}),/*#__PURE__*/_jsx(\"p\",{children:\"YOLO for fast defect bounding boxes\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Quick defect identification\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Fast training and inference\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Good for defect counting\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"workflow-icon\",children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Segmentation\"}),/*#__PURE__*/_jsx(\"p\",{children:\"SAM2 for precise defect masks\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"Precise defect boundaries\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Few-shot learning capability\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Excellent for measurement\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auto-annotation-content\",children:renderCurrentView()})]});}export default AutoAnnotation;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}