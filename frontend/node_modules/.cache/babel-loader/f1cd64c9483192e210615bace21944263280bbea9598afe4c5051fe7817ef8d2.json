{"ast":null,"code":"import _objectSpread from\"/Users/truonghaidang/Desktop/open-trainer/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import'./ProjectCreation.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProjectCreation(_ref){let{onProjectCreated,onCancel}=_ref;const[formData,setFormData]=useState({projectName:'',projectType:'object_detection',description:''});const[loading,setLoading]=useState(false);const[errors,setErrors]=useState({});const validateForm=()=>{const newErrors={};if(!formData.projectName.trim()){newErrors.projectName='Project name is required';}else if(formData.projectName.length<3){newErrors.projectName='Project name must be at least 3 characters';}if(!formData.projectType){newErrors.projectType='Project type is required';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setLoading(true);try{const formDataToSend=new FormData();formDataToSend.append('project_name',formData.projectName);formDataToSend.append('project_type',formData.projectType);formDataToSend.append('description',formData.description);const response=await fetch('/api/auto-annotation/create-project',{method:'POST',body:formDataToSend});const result=await response.json();if(result.status==='success'){onProjectCreated(result);}else{setErrors({submit:result.message||'Failed to create project'});}}catch(error){console.error('Failed to create project:',error);setErrors({submit:'Network error. Please try again.'});}finally{setLoading(false);}};const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));// Clear error when user starts typing\nif(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}};return/*#__PURE__*/_jsxs(\"div\",{className:\"project-creation-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"creation-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDD95 Create New Project\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Set up a new auto-annotation project\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"creation-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"projectName\",children:[\"Project Name \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"projectName\",name:\"projectName\",value:formData.projectName,onChange:handleInputChange,placeholder:\"Enter a descriptive project name\",className:errors.projectName?'error':''}),errors.projectName&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.projectName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"projectType\",children:[\"Project Type \",/*#__PURE__*/_jsx(\"span\",{className:\"required\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"project-type-selection\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"type-option \".concat(formData.projectType==='object_detection'?'selected':''),onClick:()=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{projectType:'object_detection'})),children:[/*#__PURE__*/_jsx(\"div\",{className:\"type-icon\",children:\"\\uD83D\\uDCE6\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"type-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Object Detection\"}),/*#__PURE__*/_jsx(\"p\",{children:\"YOLO for fast defect bounding boxes\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2705 Quick training and inference\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2705 Good for defect counting\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2705 Fast defect identification\"})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"projectType\",value:\"object_detection\",checked:formData.projectType==='object_detection',onChange:handleInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"type-option \".concat(formData.projectType==='segmentation'?'selected':''),onClick:()=>setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{projectType:'segmentation'})),children:[/*#__PURE__*/_jsx(\"div\",{className:\"type-icon\",children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"type-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Segmentation\"}),/*#__PURE__*/_jsx(\"p\",{children:\"SAM2 for precise defect masks\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2705 Precise defect boundaries\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2705 Few-shot learning capability\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2705 Excellent for measurement\"})]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"projectType\",value:\"segmentation\",checked:formData.projectType==='segmentation',onChange:handleInputChange})]})]}),errors.projectType&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:errors.projectType})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",value:formData.description,onChange:handleInputChange,placeholder:\"Describe your project (optional)\",rows:\"3\"})]}),errors.submit&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-banner\",children:[\"\\u274C \",errors.submit]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-button\",onClick:onCancel,disabled:loading,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"create-button\",disabled:loading,children:loading?'⏳ Creating...':'✨ Create Project'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-preview\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCCB Project Workflow\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-steps\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-step\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"step-number\",children:\"1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step-text\",children:\"Upload training images and annotations\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-step\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"step-number\",children:\"2\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"step-text\",children:[\"Train your \",formData.projectType==='object_detection'?'YOLO':'SAM2',\" model\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workflow-step\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"step-number\",children:\"3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"step-text\",children:\"Automatically annotate new images\"})]})]})]})]});}export default ProjectCreation;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}