{"ast":null,"code":"var _jsxFileName = \"/Users/truonghaidang/Desktop/open-trainer/frontend/src/components/auto-annotation/ModelTraining.js\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport './ModelTraining.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ModelTraining({\n  projectId,\n  projectType,\n  trainingStatus\n}) {\n  const [trainingParams, setTrainingParams] = useState({\n    epochs: 50,\n    batch_size: 16,\n    image_size: 640,\n    patience: 10,\n    // SAM2 specific params\n    few_shot_examples: 5,\n    similarity_threshold: 0.8,\n    mask_threshold: 0.5\n  });\n  const [training, setTraining] = useState(false);\n  const [trainingProgress, setTrainingProgress] = useState({\n    status: trainingStatus || 'not_started',\n    progress: 0,\n    current_epoch: 0,\n    total_epochs: 0,\n    metrics: {},\n    logs: []\n  });\n  const [errors, setErrors] = useState({});\n  const fetchTrainingStatus = useCallback(async () => {\n    try {\n      const response = await fetch(`/api/auto-annotation/projects/${projectId}/training-status`);\n      const data = await response.json();\n      if (data.status === 'success') {\n        setTrainingProgress(prev => ({\n          ...prev,\n          status: data.training_status,\n          progress: data.progress,\n          current_epoch: data.current_epoch,\n          total_epochs: data.total_epochs,\n          metrics: data.metrics,\n          logs: data.logs\n        }));\n      }\n    } catch (error) {\n      console.error('Failed to fetch training status:', error);\n    }\n  }, [projectId]);\n\n  // Poll training status\n  useEffect(() => {\n    let interval;\n    if (trainingProgress.status === 'running') {\n      interval = setInterval(() => {\n        fetchTrainingStatus();\n      }, 2000);\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [trainingProgress.status, projectId, fetchTrainingStatus]);\n  const handleParamChange = (param, value) => {\n    setTrainingParams(prev => ({\n      ...prev,\n      [param]: value\n    }));\n  };\n  const startTraining = async () => {\n    setTraining(true);\n    setErrors({});\n    try {\n      const formData = new FormData();\n      if (projectType === 'object_detection') {\n        formData.append('epochs', trainingParams.epochs);\n        formData.append('batch_size', trainingParams.batch_size);\n        formData.append('image_size', trainingParams.image_size);\n        formData.append('patience', trainingParams.patience);\n      } else {\n        formData.append('few_shot_examples', trainingParams.few_shot_examples);\n        formData.append('similarity_threshold', trainingParams.similarity_threshold);\n        formData.append('mask_threshold', trainingParams.mask_threshold);\n      }\n      const response = await fetch(`/api/auto-annotation/projects/${projectId}/start-training`, {\n        method: 'POST',\n        body: formData\n      });\n      const result = await response.json();\n      if (result.status === 'success') {\n        setTrainingProgress(prev => ({\n          ...prev,\n          status: 'running',\n          total_epochs: trainingParams.epochs\n        }));\n      } else {\n        setErrors({\n          training: result.message || 'Failed to start training'\n        });\n      }\n    } catch (error) {\n      console.error('Training failed:', error);\n      setErrors({\n        training: 'Network error. Please try again.'\n      });\n    } finally {\n      setTraining(false);\n    }\n  };\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'not_started':\n        return '⏳';\n      case 'running':\n        return '🚀';\n      case 'completed':\n        return '✅';\n      case 'failed':\n        return '❌';\n      default:\n        return '⚪';\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'not_started':\n        return '#6c757d';\n      case 'running':\n        return '#007bff';\n      case 'completed':\n        return '#28a745';\n      case 'failed':\n        return '#dc3545';\n      default:\n        return '#6c757d';\n    }\n  };\n  const canStartTraining = trainingProgress.status === 'not_started' || trainingProgress.status === 'failed';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"model-training\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-status\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"status-indicator\",\n          style: {\n            color: getStatusColor(trainingProgress.status)\n          },\n          children: [getStatusIcon(trainingProgress.status), trainingProgress.status.replace('_', ' ').toUpperCase()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), trainingProgress.status === 'running' && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"epoch-info\",\n          children: [\"Epoch \", trainingProgress.current_epoch, \" / \", trainingProgress.total_epochs]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this), trainingProgress.status === 'running' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-fill\",\n            style: {\n              width: `${trainingProgress.progress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"progress-text\",\n          children: [trainingProgress.progress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), canStartTraining && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-params\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\uD83D\\uDD27 Training Parameters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this), projectType === 'object_detection' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"params-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Epochs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: trainingParams.epochs,\n            onChange: e => handleParamChange('epochs', parseInt(e.target.value)),\n            min: \"1\",\n            max: \"1000\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Number of training iterations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Batch Size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: trainingParams.batch_size,\n            onChange: e => handleParamChange('batch_size', parseInt(e.target.value)),\n            min: \"1\",\n            max: \"64\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Images processed together\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Image Size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: trainingParams.image_size,\n            onChange: e => handleParamChange('image_size', parseInt(e.target.value)),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 416,\n              children: \"416px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 512,\n              children: \"512px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 640,\n              children: \"640px (recommended)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 800,\n              children: \"800px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Input image resolution\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Patience\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: trainingParams.patience,\n            onChange: e => handleParamChange('patience', parseInt(e.target.value)),\n            min: \"1\",\n            max: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Early stopping patience\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"params-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Few-Shot Examples\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: trainingParams.few_shot_examples,\n            onChange: e => handleParamChange('few_shot_examples', parseInt(e.target.value)),\n            min: \"1\",\n            max: \"20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Examples per defect class\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Similarity Threshold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            value: trainingParams.similarity_threshold,\n            onChange: e => handleParamChange('similarity_threshold', parseFloat(e.target.value)),\n            min: \"0.1\",\n            max: \"1.0\",\n            step: \"0.1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-value\",\n            children: trainingParams.similarity_threshold\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Feature similarity threshold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Mask Threshold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            value: trainingParams.mask_threshold,\n            onChange: e => handleParamChange('mask_threshold', parseFloat(e.target.value)),\n            min: \"0.1\",\n            max: \"1.0\",\n            step: \"0.1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-value\",\n            children: trainingParams.mask_threshold\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Mask confidence threshold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 9\n    }, this), trainingProgress.status === 'running' && Object.keys(trainingProgress.metrics).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-metrics\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\uD83D\\uDCCA Training Metrics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"metrics-grid\",\n        children: Object.entries(trainingProgress.metrics).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metric-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-label\",\n            children: key\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-value\",\n            children: typeof value === 'number' ? value.toFixed(4) : value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 9\n    }, this), trainingProgress.logs && trainingProgress.logs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-logs\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\uD83D\\uDCDD Training Logs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logs-container\",\n        children: trainingProgress.logs.slice(-10).map((log, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"log-entry\",\n          children: log\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-actions\",\n      children: [errors.training && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-banner\",\n        children: [\"\\u274C \", errors.training]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this), canStartTraining && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"start-training-button\",\n        onClick: startTraining,\n        disabled: training,\n        children: training ? '⏳ Starting...' : `🚀 Start ${projectType === 'object_detection' ? 'YOLO' : 'SAM2'} Training`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 11\n      }, this), trainingProgress.status === 'completed' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-banner\",\n        children: \"\\u2705 Model training completed successfully! Ready for auto-annotation.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this), trainingProgress.status === 'failed' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-banner\",\n        children: \"\\u274C Training failed. Please check your data and try again.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\u2139\\uFE0F Training Process\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-steps\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-number\",\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-text\",\n            children: \"Data preparation and validation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-number\",\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-text\",\n            children: projectType === 'object_detection' ? 'YOLO model training with your annotations' : 'SAM2 few-shot learning setup'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-number\",\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-text\",\n            children: \"Model evaluation and optimization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-number\",\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-text\",\n            children: \"Model ready for automatic annotation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n}\nexport default ModelTraining;","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsxDEV","_jsxDEV","ModelTraining","projectId","projectType","trainingStatus","trainingParams","setTrainingParams","epochs","batch_size","image_size","patience","few_shot_examples","similarity_threshold","mask_threshold","training","setTraining","trainingProgress","setTrainingProgress","status","progress","current_epoch","total_epochs","metrics","logs","errors","setErrors","fetchTrainingStatus","response","fetch","data","json","prev","training_status","error","console","interval","setInterval","clearInterval","handleParamChange","param","value","startTraining","formData","FormData","append","method","body","result","message","getStatusIcon","getStatusColor","canStartTraining","className","children","style","color","replace","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","width","type","onChange","e","parseInt","target","min","max","parseFloat","step","Object","keys","length","entries","map","key","toFixed","slice","log","index","onClick","disabled"],"sources":["/Users/truonghaidang/Desktop/open-trainer/frontend/src/components/auto-annotation/ModelTraining.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport './ModelTraining.css';\n\nfunction ModelTraining({ projectId, projectType, trainingStatus }) {\n  const [trainingParams, setTrainingParams] = useState({\n    epochs: 50,\n    batch_size: 16,\n    image_size: 640,\n    patience: 10,\n    // SAM2 specific params\n    few_shot_examples: 5,\n    similarity_threshold: 0.8,\n    mask_threshold: 0.5\n  });\n  \n  const [training, setTraining] = useState(false);\n  const [trainingProgress, setTrainingProgress] = useState({\n    status: trainingStatus || 'not_started',\n    progress: 0,\n    current_epoch: 0,\n    total_epochs: 0,\n    metrics: {},\n    logs: []\n  });\n  const [errors, setErrors] = useState({});\n\n  const fetchTrainingStatus = useCallback(async () => {\n    try {\n      const response = await fetch(`/api/auto-annotation/projects/${projectId}/training-status`);\n      const data = await response.json();\n      \n      if (data.status === 'success') {\n        setTrainingProgress(prev => ({\n          ...prev,\n          status: data.training_status,\n          progress: data.progress,\n          current_epoch: data.current_epoch,\n          total_epochs: data.total_epochs,\n          metrics: data.metrics,\n          logs: data.logs\n        }));\n      }\n    } catch (error) {\n      console.error('Failed to fetch training status:', error);\n    }\n  }, [projectId]);\n\n  // Poll training status\n  useEffect(() => {\n    let interval;\n    \n    if (trainingProgress.status === 'running') {\n      interval = setInterval(() => {\n        fetchTrainingStatus();\n      }, 2000);\n    }\n    \n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [trainingProgress.status, projectId, fetchTrainingStatus]);\n\n  const handleParamChange = (param, value) => {\n    setTrainingParams(prev => ({\n      ...prev,\n      [param]: value\n    }));\n  };\n\n  const startTraining = async () => {\n    setTraining(true);\n    setErrors({});\n    \n    try {\n      const formData = new FormData();\n      \n      if (projectType === 'object_detection') {\n        formData.append('epochs', trainingParams.epochs);\n        formData.append('batch_size', trainingParams.batch_size);\n        formData.append('image_size', trainingParams.image_size);\n        formData.append('patience', trainingParams.patience);\n      } else {\n        formData.append('few_shot_examples', trainingParams.few_shot_examples);\n        formData.append('similarity_threshold', trainingParams.similarity_threshold);\n        formData.append('mask_threshold', trainingParams.mask_threshold);\n      }\n\n      const response = await fetch(`/api/auto-annotation/projects/${projectId}/start-training`, {\n        method: 'POST',\n        body: formData\n      });\n\n      const result = await response.json();\n      \n      if (result.status === 'success') {\n        setTrainingProgress(prev => ({\n          ...prev,\n          status: 'running',\n          total_epochs: trainingParams.epochs\n        }));\n      } else {\n        setErrors({ training: result.message || 'Failed to start training' });\n      }\n    } catch (error) {\n      console.error('Training failed:', error);\n      setErrors({ training: 'Network error. Please try again.' });\n    } finally {\n      setTraining(false);\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'not_started': return '⏳';\n      case 'running': return '🚀';\n      case 'completed': return '✅';\n      case 'failed': return '❌';\n      default: return '⚪';\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'not_started': return '#6c757d';\n      case 'running': return '#007bff';\n      case 'completed': return '#28a745';\n      case 'failed': return '#dc3545';\n      default: return '#6c757d';\n    }\n  };\n\n  const canStartTraining = trainingProgress.status === 'not_started' || trainingProgress.status === 'failed';\n\n  return (\n    <div className=\"model-training\">\n      {/* Training Status */}\n      <div className=\"training-status\">\n        <div className=\"status-header\">\n          <span \n            className=\"status-indicator\" \n            style={{ color: getStatusColor(trainingProgress.status) }}\n          >\n            {getStatusIcon(trainingProgress.status)} \n            {trainingProgress.status.replace('_', ' ').toUpperCase()}\n          </span>\n          \n          {trainingProgress.status === 'running' && (\n            <span className=\"epoch-info\">\n              Epoch {trainingProgress.current_epoch} / {trainingProgress.total_epochs}\n            </span>\n          )}\n        </div>\n        \n        {trainingProgress.status === 'running' && (\n          <div className=\"progress-container\">\n            <div className=\"progress-bar\">\n              <div \n                className=\"progress-fill\"\n                style={{ width: `${trainingProgress.progress}%` }}\n              />\n            </div>\n            <span className=\"progress-text\">{trainingProgress.progress}%</span>\n          </div>\n        )}\n      </div>\n\n      {/* Training Parameters */}\n      {canStartTraining && (\n        <div className=\"training-params\">\n          <h5>🔧 Training Parameters</h5>\n          \n          {projectType === 'object_detection' ? (\n            <div className=\"params-grid\">\n              <div className=\"param-item\">\n                <label>Epochs</label>\n                <input\n                  type=\"number\"\n                  value={trainingParams.epochs}\n                  onChange={(e) => handleParamChange('epochs', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"1000\"\n                />\n                <span className=\"param-help\">Number of training iterations</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Batch Size</label>\n                <input\n                  type=\"number\"\n                  value={trainingParams.batch_size}\n                  onChange={(e) => handleParamChange('batch_size', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"64\"\n                />\n                <span className=\"param-help\">Images processed together</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Image Size</label>\n                <select\n                  value={trainingParams.image_size}\n                  onChange={(e) => handleParamChange('image_size', parseInt(e.target.value))}\n                >\n                  <option value={416}>416px</option>\n                  <option value={512}>512px</option>\n                  <option value={640}>640px (recommended)</option>\n                  <option value={800}>800px</option>\n                </select>\n                <span className=\"param-help\">Input image resolution</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Patience</label>\n                <input\n                  type=\"number\"\n                  value={trainingParams.patience}\n                  onChange={(e) => handleParamChange('patience', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"50\"\n                />\n                <span className=\"param-help\">Early stopping patience</span>\n              </div>\n            </div>\n          ) : (\n            <div className=\"params-grid\">\n              <div className=\"param-item\">\n                <label>Few-Shot Examples</label>\n                <input\n                  type=\"number\"\n                  value={trainingParams.few_shot_examples}\n                  onChange={(e) => handleParamChange('few_shot_examples', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"20\"\n                />\n                <span className=\"param-help\">Examples per defect class</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Similarity Threshold</label>\n                <input\n                  type=\"range\"\n                  value={trainingParams.similarity_threshold}\n                  onChange={(e) => handleParamChange('similarity_threshold', parseFloat(e.target.value))}\n                  min=\"0.1\"\n                  max=\"1.0\"\n                  step=\"0.1\"\n                />\n                <span className=\"param-value\">{trainingParams.similarity_threshold}</span>\n                <span className=\"param-help\">Feature similarity threshold</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Mask Threshold</label>\n                <input\n                  type=\"range\"\n                  value={trainingParams.mask_threshold}\n                  onChange={(e) => handleParamChange('mask_threshold', parseFloat(e.target.value))}\n                  min=\"0.1\"\n                  max=\"1.0\"\n                  step=\"0.1\"\n                />\n                <span className=\"param-value\">{trainingParams.mask_threshold}</span>\n                <span className=\"param-help\">Mask confidence threshold</span>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Training Metrics */}\n      {trainingProgress.status === 'running' && Object.keys(trainingProgress.metrics).length > 0 && (\n        <div className=\"training-metrics\">\n          <h5>📊 Training Metrics</h5>\n          <div className=\"metrics-grid\">\n            {Object.entries(trainingProgress.metrics).map(([key, value]) => (\n              <div key={key} className=\"metric-item\">\n                <span className=\"metric-label\">{key}</span>\n                <span className=\"metric-value\">\n                  {typeof value === 'number' ? value.toFixed(4) : value}\n                </span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Training Logs */}\n      {trainingProgress.logs && trainingProgress.logs.length > 0 && (\n        <div className=\"training-logs\">\n          <h5>📝 Training Logs</h5>\n          <div className=\"logs-container\">\n            {trainingProgress.logs.slice(-10).map((log, index) => (\n              <div key={index} className=\"log-entry\">\n                {log}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Actions */}\n      <div className=\"training-actions\">\n        {errors.training && (\n          <div className=\"error-banner\">\n            ❌ {errors.training}\n          </div>\n        )}\n        \n        {canStartTraining && (\n          <button\n            className=\"start-training-button\"\n            onClick={startTraining}\n            disabled={training}\n          >\n            {training ? '⏳ Starting...' : `🚀 Start ${projectType === 'object_detection' ? 'YOLO' : 'SAM2'} Training`}\n          </button>\n        )}\n        \n        {trainingProgress.status === 'completed' && (\n          <div className=\"success-banner\">\n            ✅ Model training completed successfully! Ready for auto-annotation.\n          </div>\n        )}\n        \n        {trainingProgress.status === 'failed' && (\n          <div className=\"error-banner\">\n            ❌ Training failed. Please check your data and try again.\n          </div>\n        )}\n      </div>\n\n      {/* Training Info */}\n      <div className=\"training-info\">\n        <h5>ℹ️ Training Process</h5>\n        <div className=\"info-steps\">\n          <div className=\"info-step\">\n            <span className=\"step-number\">1</span>\n            <span className=\"step-text\">\n              Data preparation and validation\n            </span>\n          </div>\n          <div className=\"info-step\">\n            <span className=\"step-number\">2</span>\n            <span className=\"step-text\">\n              {projectType === 'object_detection' \n                ? 'YOLO model training with your annotations'\n                : 'SAM2 few-shot learning setup'\n              }\n            </span>\n          </div>\n          <div className=\"info-step\">\n            <span className=\"step-number\">3</span>\n            <span className=\"step-text\">\n              Model evaluation and optimization\n            </span>\n          </div>\n          <div className=\"info-step\">\n            <span className=\"step-number\">4</span>\n            <span className=\"step-text\">\n              Model ready for automatic annotation\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ModelTraining;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC/D,OAAO,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7B,SAASC,aAAaA,CAAC;EAAEC,SAAS;EAAEC,WAAW;EAAEC;AAAe,CAAC,EAAE;EACjE,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGV,QAAQ,CAAC;IACnDW,MAAM,EAAE,EAAE;IACVC,UAAU,EAAE,EAAE;IACdC,UAAU,EAAE,GAAG;IACfC,QAAQ,EAAE,EAAE;IACZ;IACAC,iBAAiB,EAAE,CAAC;IACpBC,oBAAoB,EAAE,GAAG;IACzBC,cAAc,EAAE;EAClB,CAAC,CAAC;EAEF,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACoB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGrB,QAAQ,CAAC;IACvDsB,MAAM,EAAEd,cAAc,IAAI,aAAa;IACvCe,QAAQ,EAAE,CAAC;IACXC,aAAa,EAAE,CAAC;IAChBC,YAAY,EAAE,CAAC;IACfC,OAAO,EAAE,CAAC,CAAC;IACXC,IAAI,EAAE;EACR,CAAC,CAAC;EACF,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAG7B,QAAQ,CAAC,CAAC,CAAC,CAAC;EAExC,MAAM8B,mBAAmB,GAAG5B,WAAW,CAAC,YAAY;IAClD,IAAI;MACF,MAAM6B,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC1B,SAAS,kBAAkB,CAAC;MAC1F,MAAM2B,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAElC,IAAID,IAAI,CAACX,MAAM,KAAK,SAAS,EAAE;QAC7BD,mBAAmB,CAACc,IAAI,KAAK;UAC3B,GAAGA,IAAI;UACPb,MAAM,EAAEW,IAAI,CAACG,eAAe;UAC5Bb,QAAQ,EAAEU,IAAI,CAACV,QAAQ;UACvBC,aAAa,EAAES,IAAI,CAACT,aAAa;UACjCC,YAAY,EAAEQ,IAAI,CAACR,YAAY;UAC/BC,OAAO,EAAEO,IAAI,CAACP,OAAO;UACrBC,IAAI,EAAEM,IAAI,CAACN;QACb,CAAC,CAAC,CAAC;MACL;IACF,CAAC,CAAC,OAAOU,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IAC1D;EACF,CAAC,EAAE,CAAC/B,SAAS,CAAC,CAAC;;EAEf;EACAL,SAAS,CAAC,MAAM;IACd,IAAIsC,QAAQ;IAEZ,IAAInB,gBAAgB,CAACE,MAAM,KAAK,SAAS,EAAE;MACzCiB,QAAQ,GAAGC,WAAW,CAAC,MAAM;QAC3BV,mBAAmB,CAAC,CAAC;MACvB,CAAC,EAAE,IAAI,CAAC;IACV;IAEA,OAAO,MAAM;MACX,IAAIS,QAAQ,EAAEE,aAAa,CAACF,QAAQ,CAAC;IACvC,CAAC;EACH,CAAC,EAAE,CAACnB,gBAAgB,CAACE,MAAM,EAAEhB,SAAS,EAAEwB,mBAAmB,CAAC,CAAC;EAE7D,MAAMY,iBAAiB,GAAGA,CAACC,KAAK,EAAEC,KAAK,KAAK;IAC1ClC,iBAAiB,CAACyB,IAAI,KAAK;MACzB,GAAGA,IAAI;MACP,CAACQ,KAAK,GAAGC;IACX,CAAC,CAAC,CAAC;EACL,CAAC;EAED,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC1B,WAAW,CAAC,IAAI,CAAC;IACjBU,SAAS,CAAC,CAAC,CAAC,CAAC;IAEb,IAAI;MACF,MAAMiB,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAE/B,IAAIxC,WAAW,KAAK,kBAAkB,EAAE;QACtCuC,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEvC,cAAc,CAACE,MAAM,CAAC;QAChDmC,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAEvC,cAAc,CAACG,UAAU,CAAC;QACxDkC,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAEvC,cAAc,CAACI,UAAU,CAAC;QACxDiC,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEvC,cAAc,CAACK,QAAQ,CAAC;MACtD,CAAC,MAAM;QACLgC,QAAQ,CAACE,MAAM,CAAC,mBAAmB,EAAEvC,cAAc,CAACM,iBAAiB,CAAC;QACtE+B,QAAQ,CAACE,MAAM,CAAC,sBAAsB,EAAEvC,cAAc,CAACO,oBAAoB,CAAC;QAC5E8B,QAAQ,CAACE,MAAM,CAAC,gBAAgB,EAAEvC,cAAc,CAACQ,cAAc,CAAC;MAClE;MAEA,MAAMc,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC1B,SAAS,iBAAiB,EAAE;QACxF2C,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEJ;MACR,CAAC,CAAC;MAEF,MAAMK,MAAM,GAAG,MAAMpB,QAAQ,CAACG,IAAI,CAAC,CAAC;MAEpC,IAAIiB,MAAM,CAAC7B,MAAM,KAAK,SAAS,EAAE;QAC/BD,mBAAmB,CAACc,IAAI,KAAK;UAC3B,GAAGA,IAAI;UACPb,MAAM,EAAE,SAAS;UACjBG,YAAY,EAAEhB,cAAc,CAACE;QAC/B,CAAC,CAAC,CAAC;MACL,CAAC,MAAM;QACLkB,SAAS,CAAC;UAAEX,QAAQ,EAAEiC,MAAM,CAACC,OAAO,IAAI;QAA2B,CAAC,CAAC;MACvE;IACF,CAAC,CAAC,OAAOf,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,kBAAkB,EAAEA,KAAK,CAAC;MACxCR,SAAS,CAAC;QAAEX,QAAQ,EAAE;MAAmC,CAAC,CAAC;IAC7D,CAAC,SAAS;MACRC,WAAW,CAAC,KAAK,CAAC;IACpB;EACF,CAAC;EAED,MAAMkC,aAAa,GAAI/B,MAAM,IAAK;IAChC,QAAQA,MAAM;MACZ,KAAK,aAAa;QAAE,OAAO,GAAG;MAC9B,KAAK,SAAS;QAAE,OAAO,IAAI;MAC3B,KAAK,WAAW;QAAE,OAAO,GAAG;MAC5B,KAAK,QAAQ;QAAE,OAAO,GAAG;MACzB;QAAS,OAAO,GAAG;IACrB;EACF,CAAC;EAED,MAAMgC,cAAc,GAAIhC,MAAM,IAAK;IACjC,QAAQA,MAAM;MACZ,KAAK,aAAa;QAAE,OAAO,SAAS;MACpC,KAAK,SAAS;QAAE,OAAO,SAAS;MAChC,KAAK,WAAW;QAAE,OAAO,SAAS;MAClC,KAAK,QAAQ;QAAE,OAAO,SAAS;MAC/B;QAAS,OAAO,SAAS;IAC3B;EACF,CAAC;EAED,MAAMiC,gBAAgB,GAAGnC,gBAAgB,CAACE,MAAM,KAAK,aAAa,IAAIF,gBAAgB,CAACE,MAAM,KAAK,QAAQ;EAE1G,oBACElB,OAAA;IAAKoD,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAE7BrD,OAAA;MAAKoD,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9BrD,OAAA;QAAKoD,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5BrD,OAAA;UACEoD,SAAS,EAAC,kBAAkB;UAC5BE,KAAK,EAAE;YAAEC,KAAK,EAAEL,cAAc,CAAClC,gBAAgB,CAACE,MAAM;UAAE,CAAE;UAAAmC,QAAA,GAEzDJ,aAAa,CAACjC,gBAAgB,CAACE,MAAM,CAAC,EACtCF,gBAAgB,CAACE,MAAM,CAACsC,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC,CAACC,WAAW,CAAC,CAAC;QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpD,CAAC,EAEN7C,gBAAgB,CAACE,MAAM,KAAK,SAAS,iBACpClB,OAAA;UAAMoD,SAAS,EAAC,YAAY;UAAAC,QAAA,GAAC,QACrB,EAACrC,gBAAgB,CAACI,aAAa,EAAC,KAAG,EAACJ,gBAAgB,CAACK,YAAY;QAAA;UAAAqC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnE,CACP;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,EAEL7C,gBAAgB,CAACE,MAAM,KAAK,SAAS,iBACpClB,OAAA;QAAKoD,SAAS,EAAC,oBAAoB;QAAAC,QAAA,gBACjCrD,OAAA;UAAKoD,SAAS,EAAC,cAAc;UAAAC,QAAA,eAC3BrD,OAAA;YACEoD,SAAS,EAAC,eAAe;YACzBE,KAAK,EAAE;cAAEQ,KAAK,EAAE,GAAG9C,gBAAgB,CAACG,QAAQ;YAAI;UAAE;YAAAuC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnD;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACN7D,OAAA;UAAMoD,SAAS,EAAC,eAAe;UAAAC,QAAA,GAAErC,gBAAgB,CAACG,QAAQ,EAAC,GAAC;QAAA;UAAAuC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChE,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGLV,gBAAgB,iBACfnD,OAAA;MAAKoD,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9BrD,OAAA;QAAAqD,QAAA,EAAI;MAAsB;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAE9B1D,WAAW,KAAK,kBAAkB,gBACjCH,OAAA;QAAKoD,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BrD,OAAA;UAAKoD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBrD,OAAA;YAAAqD,QAAA,EAAO;UAAM;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACrB7D,OAAA;YACE+D,IAAI,EAAC,QAAQ;YACbvB,KAAK,EAAEnC,cAAc,CAACE,MAAO;YAC7ByD,QAAQ,EAAGC,CAAC,IAAK3B,iBAAiB,CAAC,QAAQ,EAAE4B,QAAQ,CAACD,CAAC,CAACE,MAAM,CAAC3B,KAAK,CAAC,CAAE;YACvE4B,GAAG,EAAC,GAAG;YACPC,GAAG,EAAC;UAAM;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACX,CAAC,eACF7D,OAAA;YAAMoD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAA6B;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9D,CAAC,eAEN7D,OAAA;UAAKoD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBrD,OAAA;YAAAqD,QAAA,EAAO;UAAU;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACzB7D,OAAA;YACE+D,IAAI,EAAC,QAAQ;YACbvB,KAAK,EAAEnC,cAAc,CAACG,UAAW;YACjCwD,QAAQ,EAAGC,CAAC,IAAK3B,iBAAiB,CAAC,YAAY,EAAE4B,QAAQ,CAACD,CAAC,CAACE,MAAM,CAAC3B,KAAK,CAAC,CAAE;YAC3E4B,GAAG,EAAC,GAAG;YACPC,GAAG,EAAC;UAAI;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eACF7D,OAAA;YAAMoD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAyB;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC,eAEN7D,OAAA;UAAKoD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBrD,OAAA;YAAAqD,QAAA,EAAO;UAAU;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACzB7D,OAAA;YACEwC,KAAK,EAAEnC,cAAc,CAACI,UAAW;YACjCuD,QAAQ,EAAGC,CAAC,IAAK3B,iBAAiB,CAAC,YAAY,EAAE4B,QAAQ,CAACD,CAAC,CAACE,MAAM,CAAC3B,KAAK,CAAC,CAAE;YAAAa,QAAA,gBAE3ErD,OAAA;cAAQwC,KAAK,EAAE,GAAI;cAAAa,QAAA,EAAC;YAAK;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAClC7D,OAAA;cAAQwC,KAAK,EAAE,GAAI;cAAAa,QAAA,EAAC;YAAK;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAClC7D,OAAA;cAAQwC,KAAK,EAAE,GAAI;cAAAa,QAAA,EAAC;YAAmB;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAChD7D,OAAA;cAAQwC,KAAK,EAAE,GAAI;cAAAa,QAAA,EAAC;YAAK;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC5B,CAAC,eACT7D,OAAA;YAAMoD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAsB;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvD,CAAC,eAEN7D,OAAA;UAAKoD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBrD,OAAA;YAAAqD,QAAA,EAAO;UAAQ;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACvB7D,OAAA;YACE+D,IAAI,EAAC,QAAQ;YACbvB,KAAK,EAAEnC,cAAc,CAACK,QAAS;YAC/BsD,QAAQ,EAAGC,CAAC,IAAK3B,iBAAiB,CAAC,UAAU,EAAE4B,QAAQ,CAACD,CAAC,CAACE,MAAM,CAAC3B,KAAK,CAAC,CAAE;YACzE4B,GAAG,EAAC,GAAG;YACPC,GAAG,EAAC;UAAI;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eACF7D,OAAA;YAAMoD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAuB;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,gBAEN7D,OAAA;QAAKoD,SAAS,EAAC,aAAa;QAAAC,QAAA,gBAC1BrD,OAAA;UAAKoD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBrD,OAAA;YAAAqD,QAAA,EAAO;UAAiB;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAChC7D,OAAA;YACE+D,IAAI,EAAC,QAAQ;YACbvB,KAAK,EAAEnC,cAAc,CAACM,iBAAkB;YACxCqD,QAAQ,EAAGC,CAAC,IAAK3B,iBAAiB,CAAC,mBAAmB,EAAE4B,QAAQ,CAACD,CAAC,CAACE,MAAM,CAAC3B,KAAK,CAAC,CAAE;YAClF4B,GAAG,EAAC,GAAG;YACPC,GAAG,EAAC;UAAI;YAAAX,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eACF7D,OAAA;YAAMoD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAyB;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC,eAEN7D,OAAA;UAAKoD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBrD,OAAA;YAAAqD,QAAA,EAAO;UAAoB;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACnC7D,OAAA;YACE+D,IAAI,EAAC,OAAO;YACZvB,KAAK,EAAEnC,cAAc,CAACO,oBAAqB;YAC3CoD,QAAQ,EAAGC,CAAC,IAAK3B,iBAAiB,CAAC,sBAAsB,EAAEgC,UAAU,CAACL,CAAC,CAACE,MAAM,CAAC3B,KAAK,CAAC,CAAE;YACvF4B,GAAG,EAAC,KAAK;YACTC,GAAG,EAAC,KAAK;YACTE,IAAI,EAAC;UAAK;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACX,CAAC,eACF7D,OAAA;YAAMoD,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAEhD,cAAc,CAACO;UAAoB;YAAA8C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC1E7D,OAAA;YAAMoD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAA4B;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7D,CAAC,eAEN7D,OAAA;UAAKoD,SAAS,EAAC,YAAY;UAAAC,QAAA,gBACzBrD,OAAA;YAAAqD,QAAA,EAAO;UAAc;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC7B7D,OAAA;YACE+D,IAAI,EAAC,OAAO;YACZvB,KAAK,EAAEnC,cAAc,CAACQ,cAAe;YACrCmD,QAAQ,EAAGC,CAAC,IAAK3B,iBAAiB,CAAC,gBAAgB,EAAEgC,UAAU,CAACL,CAAC,CAACE,MAAM,CAAC3B,KAAK,CAAC,CAAE;YACjF4B,GAAG,EAAC,KAAK;YACTC,GAAG,EAAC,KAAK;YACTE,IAAI,EAAC;UAAK;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACX,CAAC,eACF7D,OAAA;YAAMoD,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAEhD,cAAc,CAACQ;UAAc;YAAA6C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACpE7D,OAAA;YAAMoD,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAyB;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CACN,EAGA7C,gBAAgB,CAACE,MAAM,KAAK,SAAS,IAAIsD,MAAM,CAACC,IAAI,CAACzD,gBAAgB,CAACM,OAAO,CAAC,CAACoD,MAAM,GAAG,CAAC,iBACxF1E,OAAA;MAAKoD,SAAS,EAAC,kBAAkB;MAAAC,QAAA,gBAC/BrD,OAAA;QAAAqD,QAAA,EAAI;MAAmB;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5B7D,OAAA;QAAKoD,SAAS,EAAC,cAAc;QAAAC,QAAA,EAC1BmB,MAAM,CAACG,OAAO,CAAC3D,gBAAgB,CAACM,OAAO,CAAC,CAACsD,GAAG,CAAC,CAAC,CAACC,GAAG,EAAErC,KAAK,CAAC,kBACzDxC,OAAA;UAAeoD,SAAS,EAAC,aAAa;UAAAC,QAAA,gBACpCrD,OAAA;YAAMoD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEwB;UAAG;YAAAnB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC3C7D,OAAA;YAAMoD,SAAS,EAAC,cAAc;YAAAC,QAAA,EAC3B,OAAOb,KAAK,KAAK,QAAQ,GAAGA,KAAK,CAACsC,OAAO,CAAC,CAAC,CAAC,GAAGtC;UAAK;YAAAkB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjD,CAAC;QAAA,GAJCgB,GAAG;UAAAnB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAKR,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,EAGA7C,gBAAgB,CAACO,IAAI,IAAIP,gBAAgB,CAACO,IAAI,CAACmD,MAAM,GAAG,CAAC,iBACxD1E,OAAA;MAAKoD,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC5BrD,OAAA;QAAAqD,QAAA,EAAI;MAAgB;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzB7D,OAAA;QAAKoD,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAC5BrC,gBAAgB,CAACO,IAAI,CAACwD,KAAK,CAAC,CAAC,EAAE,CAAC,CAACH,GAAG,CAAC,CAACI,GAAG,EAAEC,KAAK,kBAC/CjF,OAAA;UAAiBoD,SAAS,EAAC,WAAW;UAAAC,QAAA,EACnC2B;QAAG,GADIC,KAAK;UAAAvB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEV,CACN;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAGD7D,OAAA;MAAKoD,SAAS,EAAC,kBAAkB;MAAAC,QAAA,GAC9B7B,MAAM,CAACV,QAAQ,iBACdd,OAAA;QAAKoD,SAAS,EAAC,cAAc;QAAAC,QAAA,GAAC,SAC1B,EAAC7B,MAAM,CAACV,QAAQ;MAAA;QAAA4C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACf,CACN,EAEAV,gBAAgB,iBACfnD,OAAA;QACEoD,SAAS,EAAC,uBAAuB;QACjC8B,OAAO,EAAEzC,aAAc;QACvB0C,QAAQ,EAAErE,QAAS;QAAAuC,QAAA,EAElBvC,QAAQ,GAAG,eAAe,GAAG,YAAYX,WAAW,KAAK,kBAAkB,GAAG,MAAM,GAAG,MAAM;MAAW;QAAAuD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnG,CACT,EAEA7C,gBAAgB,CAACE,MAAM,KAAK,WAAW,iBACtClB,OAAA;QAAKoD,SAAS,EAAC,gBAAgB;QAAAC,QAAA,EAAC;MAEhC;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACN,EAEA7C,gBAAgB,CAACE,MAAM,KAAK,QAAQ,iBACnClB,OAAA;QAAKoD,SAAS,EAAC,cAAc;QAAAC,QAAA,EAAC;MAE9B;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGN7D,OAAA;MAAKoD,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC5BrD,OAAA;QAAAqD,QAAA,EAAI;MAAmB;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5B7D,OAAA;QAAKoD,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzBrD,OAAA;UAAKoD,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBrD,OAAA;YAAMoD,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAC;UAAC;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtC7D,OAAA;YAAMoD,SAAS,EAAC,WAAW;YAAAC,QAAA,EAAC;UAE5B;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC,eACN7D,OAAA;UAAKoD,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBrD,OAAA;YAAMoD,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAC;UAAC;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtC7D,OAAA;YAAMoD,SAAS,EAAC,WAAW;YAAAC,QAAA,EACxBlD,WAAW,KAAK,kBAAkB,GAC/B,2CAA2C,GAC3C;UAA8B;YAAAuD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAE9B,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC,eACN7D,OAAA;UAAKoD,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBrD,OAAA;YAAMoD,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAC;UAAC;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtC7D,OAAA;YAAMoD,SAAS,EAAC,WAAW;YAAAC,QAAA,EAAC;UAE5B;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC,eACN7D,OAAA;UAAKoD,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBrD,OAAA;YAAMoD,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAC;UAAC;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtC7D,OAAA;YAAMoD,SAAS,EAAC,WAAW;YAAAC,QAAA,EAAC;UAE5B;YAAAK,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAEA,eAAe5D,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}