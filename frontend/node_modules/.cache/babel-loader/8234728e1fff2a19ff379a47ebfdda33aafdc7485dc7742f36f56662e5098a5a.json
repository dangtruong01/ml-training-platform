{"ast":null,"code":"var _jsxFileName = \"/Users/truonghaidang/Desktop/open-trainer/frontend/src/components/auto-annotation/ModelTraining.js\";\nimport React, { useState, useEffect, useCallback } from 'react';\nimport './ModelTraining.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ModelTraining({\n  projectId,\n  projectType,\n  trainingStatus,\n  onTrainingStatusChange\n}) {\n  const [trainingParams, setTrainingParams] = useState({\n    epochs: 50,\n    batch_size: 16,\n    image_size: 640,\n    patience: 10,\n    // SAM2 specific params\n    few_shot_examples: 5,\n    similarity_threshold: 0.8,\n    mask_threshold: 0.5\n  });\n  const [training, setTraining] = useState(false);\n  const [trainingProgress, setTrainingProgress] = useState({\n    status: trainingStatus || 'not_started',\n    progress: 0,\n    current_epoch: 0,\n    total_epochs: 0,\n    metrics: {},\n    logs: []\n  });\n  const [errors, setErrors] = useState({});\n  const fetchTrainingStatus = useCallback(async () => {\n    try {\n      const response = await fetch(`/api/auto-annotation/projects/${projectId}/training-status`);\n      const data = await response.json();\n      if (data.status === 'success') {\n        console.log('Training status update:', data);\n        const newStatus = data.training_status;\n        setTrainingProgress(prev => ({\n          ...prev,\n          status: newStatus,\n          progress: data.progress,\n          current_epoch: data.current_epoch,\n          total_epochs: data.total_epochs,\n          metrics: data.metrics,\n          logs: data.logs\n        }));\n\n        // Notify parent when training completes\n        if (newStatus === 'completed' && onTrainingStatusChange) {\n          onTrainingStatusChange();\n        }\n      }\n    } catch (error) {\n      console.error('Failed to fetch training status:', error);\n    }\n  }, [projectId]);\n\n  // Poll training status\n  useEffect(() => {\n    let interval;\n    if (trainingProgress.status === 'running') {\n      interval = setInterval(() => {\n        fetchTrainingStatus();\n      }, 2000);\n    }\n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [trainingProgress.status, projectId, fetchTrainingStatus]);\n  const handleParamChange = (param, value) => {\n    setTrainingParams(prev => ({\n      ...prev,\n      [param]: value\n    }));\n  };\n  const startTraining = async () => {\n    setTraining(true);\n    setErrors({});\n    try {\n      const formData = new FormData();\n      if (projectType === 'object_detection') {\n        formData.append('epochs', trainingParams.epochs);\n        formData.append('batch_size', trainingParams.batch_size);\n        formData.append('image_size', trainingParams.image_size);\n        formData.append('patience', trainingParams.patience);\n      } else {\n        formData.append('few_shot_examples', trainingParams.few_shot_examples);\n        formData.append('similarity_threshold', trainingParams.similarity_threshold);\n        formData.append('mask_threshold', trainingParams.mask_threshold);\n      }\n      const response = await fetch(`/api/auto-annotation/projects/${projectId}/start-training`, {\n        method: 'POST',\n        body: formData\n      });\n      const result = await response.json();\n      if (result.status === 'success') {\n        console.log('Training started successfully:', result);\n        setTrainingProgress(prev => ({\n          ...prev,\n          status: 'running',\n          total_epochs: trainingParams.epochs\n        }));\n      } else {\n        console.log('Training start failed:', result);\n        setErrors({\n          training: result.message || 'Failed to start training'\n        });\n      }\n    } catch (error) {\n      console.error('Training failed:', error);\n      setErrors({\n        training: 'Network error. Please try again.'\n      });\n    } finally {\n      setTraining(false);\n    }\n  };\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'not_started':\n        return '⏳';\n      case 'running':\n        return '🚀';\n      case 'completed':\n        return '✅';\n      case 'failed':\n        return '❌';\n      default:\n        return '⚪';\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'not_started':\n        return '#6c757d';\n      case 'running':\n        return '#007bff';\n      case 'completed':\n        return '#28a745';\n      case 'failed':\n        return '#dc3545';\n      default:\n        return '#6c757d';\n    }\n  };\n  const canStartTraining = trainingProgress.status === 'not_started' || trainingProgress.status === 'failed';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"model-training\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-status\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"status-indicator\",\n          style: {\n            color: getStatusColor(trainingProgress.status)\n          },\n          children: [getStatusIcon(trainingProgress.status), trainingProgress.status.replace('_', ' ').toUpperCase()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), trainingProgress.status === 'running' && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"epoch-info\",\n          children: [\"Epoch \", trainingProgress.current_epoch, \" / \", trainingProgress.total_epochs]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), trainingProgress.status === 'running' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-fill\",\n            style: {\n              width: `${Math.max(trainingProgress.progress, 2)}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"progress-text\",\n          children: trainingProgress.progress > 0 ? `${trainingProgress.progress}%` : 'Starting...'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), canStartTraining && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-params\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\uD83D\\uDD27 Training Parameters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this), projectType === 'object_detection' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"params-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Epochs\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: trainingParams.epochs,\n            onChange: e => handleParamChange('epochs', parseInt(e.target.value)),\n            min: \"1\",\n            max: \"1000\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Number of training iterations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Batch Size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: trainingParams.batch_size,\n            onChange: e => handleParamChange('batch_size', parseInt(e.target.value)),\n            min: \"1\",\n            max: \"64\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Images processed together\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Image Size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: trainingParams.image_size,\n            onChange: e => handleParamChange('image_size', parseInt(e.target.value)),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: 416,\n              children: \"416px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 512,\n              children: \"512px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 640,\n              children: \"640px (recommended)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 800,\n              children: \"800px\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Input image resolution\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Patience\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: trainingParams.patience,\n            onChange: e => handleParamChange('patience', parseInt(e.target.value)),\n            min: \"1\",\n            max: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Early stopping patience\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"params-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Few-Shot Examples\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: trainingParams.few_shot_examples,\n            onChange: e => handleParamChange('few_shot_examples', parseInt(e.target.value)),\n            min: \"1\",\n            max: \"20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Examples per defect class\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Similarity Threshold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            value: trainingParams.similarity_threshold,\n            onChange: e => handleParamChange('similarity_threshold', parseFloat(e.target.value)),\n            min: \"0.1\",\n            max: \"1.0\",\n            step: \"0.1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-value\",\n            children: trainingParams.similarity_threshold\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Feature similarity threshold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"param-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Mask Threshold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            value: trainingParams.mask_threshold,\n            onChange: e => handleParamChange('mask_threshold', parseFloat(e.target.value)),\n            min: \"0.1\",\n            max: \"1.0\",\n            step: \"0.1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-value\",\n            children: trainingParams.mask_threshold\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"param-help\",\n            children: \"Mask confidence threshold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }, this), trainingProgress.status === 'running' && Object.keys(trainingProgress.metrics).length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-metrics\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\uD83D\\uDCCA Training Metrics\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"metrics-grid\",\n        children: Object.entries(trainingProgress.metrics).map(([key, value]) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"metric-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-label\",\n            children: key\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"metric-value\",\n            children: typeof value === 'number' ? value.toFixed(4) : value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 17\n          }, this)]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 9\n    }, this), trainingProgress.logs && trainingProgress.logs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-logs\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\uD83D\\uDCDD Training Logs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logs-container\",\n        children: trainingProgress.logs.slice(-10).map((log, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"log-entry\",\n          children: log\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-actions\",\n      children: [errors.training && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-banner\",\n        children: [\"\\u274C \", errors.training]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this), canStartTraining && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"start-training-button\",\n        onClick: startTraining,\n        disabled: training,\n        children: training ? '⏳ Starting...' : `🚀 Start ${projectType === 'object_detection' ? 'YOLO' : 'SAM2'} Training`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this), trainingProgress.status === 'completed' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-banner\",\n        children: \"\\u2705 Model training completed successfully! Ready for auto-annotation.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }, this), trainingProgress.status === 'failed' && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-banner\",\n        children: \"\\u274C Training failed. Please check your data and try again.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"training-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"\\u2139\\uFE0F Training Process\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"info-steps\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-number\",\n            children: \"1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-text\",\n            children: \"Data preparation and validation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-number\",\n            children: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-text\",\n            children: projectType === 'object_detection' ? 'YOLO model training with your annotations' : 'SAM2 few-shot learning setup'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-number\",\n            children: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-text\",\n            children: \"Model evaluation and optimization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info-step\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-number\",\n            children: \"4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"step-text\",\n            children: \"Model ready for automatic annotation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n}\nexport default ModelTraining;","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsxDEV","_jsxDEV","ModelTraining","projectId","projectType","trainingStatus","onTrainingStatusChange","trainingParams","setTrainingParams","epochs","batch_size","image_size","patience","few_shot_examples","similarity_threshold","mask_threshold","training","setTraining","trainingProgress","setTrainingProgress","status","progress","current_epoch","total_epochs","metrics","logs","errors","setErrors","fetchTrainingStatus","response","fetch","data","json","console","log","newStatus","training_status","prev","error","interval","setInterval","clearInterval","handleParamChange","param","value","startTraining","formData","FormData","append","method","body","result","message","getStatusIcon","getStatusColor","canStartTraining","className","children","style","color","replace","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","width","Math","max","type","onChange","e","parseInt","target","min","parseFloat","step","Object","keys","length","entries","map","key","toFixed","slice","index","onClick","disabled"],"sources":["/Users/truonghaidang/Desktop/open-trainer/frontend/src/components/auto-annotation/ModelTraining.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport './ModelTraining.css';\n\nfunction ModelTraining({ projectId, projectType, trainingStatus, onTrainingStatusChange }) {\n  const [trainingParams, setTrainingParams] = useState({\n    epochs: 50,\n    batch_size: 16,\n    image_size: 640,\n    patience: 10,\n    // SAM2 specific params\n    few_shot_examples: 5,\n    similarity_threshold: 0.8,\n    mask_threshold: 0.5\n  });\n  \n  const [training, setTraining] = useState(false);\n  const [trainingProgress, setTrainingProgress] = useState({\n    status: trainingStatus || 'not_started',\n    progress: 0,\n    current_epoch: 0,\n    total_epochs: 0,\n    metrics: {},\n    logs: []\n  });\n  const [errors, setErrors] = useState({});\n\n  const fetchTrainingStatus = useCallback(async () => {\n    try {\n      const response = await fetch(`/api/auto-annotation/projects/${projectId}/training-status`);\n      const data = await response.json();\n      \n      if (data.status === 'success') {\n        console.log('Training status update:', data);\n        const newStatus = data.training_status;\n        setTrainingProgress(prev => ({\n          ...prev,\n          status: newStatus,\n          progress: data.progress,\n          current_epoch: data.current_epoch,\n          total_epochs: data.total_epochs,\n          metrics: data.metrics,\n          logs: data.logs\n        }));\n        \n        // Notify parent when training completes\n        if (newStatus === 'completed' && onTrainingStatusChange) {\n          onTrainingStatusChange();\n        }\n      }\n    } catch (error) {\n      console.error('Failed to fetch training status:', error);\n    }\n  }, [projectId]);\n\n  // Poll training status\n  useEffect(() => {\n    let interval;\n    \n    if (trainingProgress.status === 'running') {\n      interval = setInterval(() => {\n        fetchTrainingStatus();\n      }, 2000);\n    }\n    \n    return () => {\n      if (interval) clearInterval(interval);\n    };\n  }, [trainingProgress.status, projectId, fetchTrainingStatus]);\n\n  const handleParamChange = (param, value) => {\n    setTrainingParams(prev => ({\n      ...prev,\n      [param]: value\n    }));\n  };\n\n  const startTraining = async () => {\n    setTraining(true);\n    setErrors({});\n    \n    try {\n      const formData = new FormData();\n      \n      if (projectType === 'object_detection') {\n        formData.append('epochs', trainingParams.epochs);\n        formData.append('batch_size', trainingParams.batch_size);\n        formData.append('image_size', trainingParams.image_size);\n        formData.append('patience', trainingParams.patience);\n      } else {\n        formData.append('few_shot_examples', trainingParams.few_shot_examples);\n        formData.append('similarity_threshold', trainingParams.similarity_threshold);\n        formData.append('mask_threshold', trainingParams.mask_threshold);\n      }\n\n      const response = await fetch(`/api/auto-annotation/projects/${projectId}/start-training`, {\n        method: 'POST',\n        body: formData\n      });\n\n      const result = await response.json();\n      \n      if (result.status === 'success') {\n        console.log('Training started successfully:', result);\n        setTrainingProgress(prev => ({\n          ...prev,\n          status: 'running',\n          total_epochs: trainingParams.epochs\n        }));\n      } else {\n        console.log('Training start failed:', result);\n        setErrors({ training: result.message || 'Failed to start training' });\n      }\n    } catch (error) {\n      console.error('Training failed:', error);\n      setErrors({ training: 'Network error. Please try again.' });\n    } finally {\n      setTraining(false);\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'not_started': return '⏳';\n      case 'running': return '🚀';\n      case 'completed': return '✅';\n      case 'failed': return '❌';\n      default: return '⚪';\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'not_started': return '#6c757d';\n      case 'running': return '#007bff';\n      case 'completed': return '#28a745';\n      case 'failed': return '#dc3545';\n      default: return '#6c757d';\n    }\n  };\n\n  const canStartTraining = trainingProgress.status === 'not_started' || trainingProgress.status === 'failed';\n\n  return (\n    <div className=\"model-training\">\n      {/* Training Status */}\n      <div className=\"training-status\">\n        <div className=\"status-header\">\n          <span \n            className=\"status-indicator\" \n            style={{ color: getStatusColor(trainingProgress.status) }}\n          >\n            {getStatusIcon(trainingProgress.status)} \n            {trainingProgress.status.replace('_', ' ').toUpperCase()}\n          </span>\n          \n          {trainingProgress.status === 'running' && (\n            <span className=\"epoch-info\">\n              Epoch {trainingProgress.current_epoch} / {trainingProgress.total_epochs}\n            </span>\n          )}\n        </div>\n        \n        {trainingProgress.status === 'running' && (\n          <div className=\"progress-container\">\n            <div className=\"progress-bar\">\n              <div \n                className=\"progress-fill\"\n                style={{ width: `${Math.max(trainingProgress.progress, 2)}%` }}\n              />\n            </div>\n            <span className=\"progress-text\">\n              {trainingProgress.progress > 0 ? `${trainingProgress.progress}%` : 'Starting...'}\n            </span>\n          </div>\n        )}\n      </div>\n\n      {/* Training Parameters */}\n      {canStartTraining && (\n        <div className=\"training-params\">\n          <h5>🔧 Training Parameters</h5>\n          \n          {projectType === 'object_detection' ? (\n            <div className=\"params-grid\">\n              <div className=\"param-item\">\n                <label>Epochs</label>\n                <input\n                  type=\"number\"\n                  value={trainingParams.epochs}\n                  onChange={(e) => handleParamChange('epochs', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"1000\"\n                />\n                <span className=\"param-help\">Number of training iterations</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Batch Size</label>\n                <input\n                  type=\"number\"\n                  value={trainingParams.batch_size}\n                  onChange={(e) => handleParamChange('batch_size', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"64\"\n                />\n                <span className=\"param-help\">Images processed together</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Image Size</label>\n                <select\n                  value={trainingParams.image_size}\n                  onChange={(e) => handleParamChange('image_size', parseInt(e.target.value))}\n                >\n                  <option value={416}>416px</option>\n                  <option value={512}>512px</option>\n                  <option value={640}>640px (recommended)</option>\n                  <option value={800}>800px</option>\n                </select>\n                <span className=\"param-help\">Input image resolution</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Patience</label>\n                <input\n                  type=\"number\"\n                  value={trainingParams.patience}\n                  onChange={(e) => handleParamChange('patience', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"50\"\n                />\n                <span className=\"param-help\">Early stopping patience</span>\n              </div>\n            </div>\n          ) : (\n            <div className=\"params-grid\">\n              <div className=\"param-item\">\n                <label>Few-Shot Examples</label>\n                <input\n                  type=\"number\"\n                  value={trainingParams.few_shot_examples}\n                  onChange={(e) => handleParamChange('few_shot_examples', parseInt(e.target.value))}\n                  min=\"1\"\n                  max=\"20\"\n                />\n                <span className=\"param-help\">Examples per defect class</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Similarity Threshold</label>\n                <input\n                  type=\"range\"\n                  value={trainingParams.similarity_threshold}\n                  onChange={(e) => handleParamChange('similarity_threshold', parseFloat(e.target.value))}\n                  min=\"0.1\"\n                  max=\"1.0\"\n                  step=\"0.1\"\n                />\n                <span className=\"param-value\">{trainingParams.similarity_threshold}</span>\n                <span className=\"param-help\">Feature similarity threshold</span>\n              </div>\n              \n              <div className=\"param-item\">\n                <label>Mask Threshold</label>\n                <input\n                  type=\"range\"\n                  value={trainingParams.mask_threshold}\n                  onChange={(e) => handleParamChange('mask_threshold', parseFloat(e.target.value))}\n                  min=\"0.1\"\n                  max=\"1.0\"\n                  step=\"0.1\"\n                />\n                <span className=\"param-value\">{trainingParams.mask_threshold}</span>\n                <span className=\"param-help\">Mask confidence threshold</span>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Training Metrics */}\n      {trainingProgress.status === 'running' && Object.keys(trainingProgress.metrics).length > 0 && (\n        <div className=\"training-metrics\">\n          <h5>📊 Training Metrics</h5>\n          <div className=\"metrics-grid\">\n            {Object.entries(trainingProgress.metrics).map(([key, value]) => (\n              <div key={key} className=\"metric-item\">\n                <span className=\"metric-label\">{key}</span>\n                <span className=\"metric-value\">\n                  {typeof value === 'number' ? value.toFixed(4) : value}\n                </span>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Training Logs */}\n      {trainingProgress.logs && trainingProgress.logs.length > 0 && (\n        <div className=\"training-logs\">\n          <h5>📝 Training Logs</h5>\n          <div className=\"logs-container\">\n            {trainingProgress.logs.slice(-10).map((log, index) => (\n              <div key={index} className=\"log-entry\">\n                {log}\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Actions */}\n      <div className=\"training-actions\">\n        {errors.training && (\n          <div className=\"error-banner\">\n            ❌ {errors.training}\n          </div>\n        )}\n        \n        {canStartTraining && (\n          <button\n            className=\"start-training-button\"\n            onClick={startTraining}\n            disabled={training}\n          >\n            {training ? '⏳ Starting...' : `🚀 Start ${projectType === 'object_detection' ? 'YOLO' : 'SAM2'} Training`}\n          </button>\n        )}\n        \n        {trainingProgress.status === 'completed' && (\n          <div className=\"success-banner\">\n            ✅ Model training completed successfully! Ready for auto-annotation.\n          </div>\n        )}\n        \n        {trainingProgress.status === 'failed' && (\n          <div className=\"error-banner\">\n            ❌ Training failed. Please check your data and try again.\n          </div>\n        )}\n      </div>\n\n      {/* Training Info */}\n      <div className=\"training-info\">\n        <h5>ℹ️ Training Process</h5>\n        <div className=\"info-steps\">\n          <div className=\"info-step\">\n            <span className=\"step-number\">1</span>\n            <span className=\"step-text\">\n              Data preparation and validation\n            </span>\n          </div>\n          <div className=\"info-step\">\n            <span className=\"step-number\">2</span>\n            <span className=\"step-text\">\n              {projectType === 'object_detection' \n                ? 'YOLO model training with your annotations'\n                : 'SAM2 few-shot learning setup'\n              }\n            </span>\n          </div>\n          <div className=\"info-step\">\n            <span className=\"step-number\">3</span>\n            <span className=\"step-text\">\n              Model evaluation and optimization\n            </span>\n          </div>\n          <div className=\"info-step\">\n            <span className=\"step-number\">4</span>\n            <span className=\"step-text\">\n              Model ready for automatic annotation\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ModelTraining;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}